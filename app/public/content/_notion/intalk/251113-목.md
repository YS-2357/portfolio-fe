---
태그: []
날짜: "2025-11-13"
이름: "25.11.13 (목)"
---

# 25.11.13 (목)


# 📅 날짜: 25.11.13 (목)


## 🧩 주요 업무


- PDF 분석 AI 설계 방향 논의 및 LLM 비용 최적화 전략 수립

- LangChain·LangGraph 기반 비대화형 문서 분석 파이프라인 구조 설계

- `pdf_loader.py` 리팩토링 수행: 텍스트/테이블 분리 및 HTML 변환 기능 구현

- PR #18 병합 완료 (`claude-api` → `main`), 로더 표준화 완료

## 🎯 목표 정리


### 장기 목표


- LangChain·LangGraph를 활용한 문서 자동 분석 AI 프로토타입 구축

### 단기 목표


- PDF 로더 통합 및 테이블/텍스트 구조 분리

- LLM 호출 효율화(batch, cache, 병렬 호출) 기반 파이프라인 구현

- 분석 결과를 구조화된 JSON/HTML 형태로 출력

## ⚙️ 진행 및 이슈


- 기존 `_table_to_markdown()` 함수를 `_table_to_html()`로 교체하여 출력 형식 개선

- `format_documents_to_html()` 신규 함수 추가로 LLM 입력 전처리 구조 확립

- 텍스트와 테이블 데이터를 `metadata`에 분리 저장(tables_html 필드 추가)

- 5종 PDF 로더(`PDFPlumber`, `PyMuPDF`, `PDFMiner`, `PyPDFium2`, `PyPDF2`) 인터페이스 통일

- 구조화 변경 후 LLM 파싱 정확도 및 데이터 일관성 향상

- 성능 이슈나 오류는 발견되지 않음, 테스트 통과 완료

## 🧠 느낀 점 및 개선


- 혼자 개발하는 과정의 한계를 체감함. 협업을 통해 아이디어가 구체화되는 효과 확인

- 기술적 설계는 명확해졌으나 실제 구현 리소스 부족으로 병목 발생 가능성 인식

- 회의 및 협의 절차가 잦아 개발 집중 시간이 줄어드는 점을 개선할 필요 존재

## 🤝 협업 및 커뮤니케이션


- AI 문서 분석 자동화 관련 설계 질의 진행

- LangChain/Graph 구조 설계 및 비용 최적화 방향 내부 검토

- 다음 단계에서 OCR/Unstructured 기반 스캔 PDF 대응 로직 추가 예정

- 병렬 호출 전략(`map-reduce`, `batch`, `cache`) 및 모델 혼합 사용 방안 합의

## 📚 참고 및 학습 내용


- LangGraph 상태 기반 워크플로우(load → split → analyze → report) 설계 문헌 검토

- SQLiteCache, MapReduceChain, PromptLayer 등 비용 절감 기법 분석

- PyPDFLoader, RecursiveCharacterTextSplitter, FAISS 기반 인메모리 검색 예제 검토

## 📈 성과 및 지표


- `backend/loaders/pdf_loader.py` 리팩토링 완료 (108줄 추가, 26줄 삭제)

- PDF 로더 인터페이스 완전 통일 및 HTML 변환 기능 구현

- LLM 호출 효율화 전략 설계 문서 초안 완성

## 🗓️ 내일 계획


- RAG 파이프라인에 리팩토링된 PDF 로더 통합 테스트

- LangGraph 기반 문서 분석 워크플로우 시나리오 구현

- OCR/Unstructured 모듈 연결 검증

- 회의 결과 반영 후 업무 일정 재조정

```json
당신은 ‘업무일지와 회고 정리 전문가’다.  
아래 사용자의 입력을 바탕으로 하루치 업무일지를 Markdown 형식으로 작성하라.  
입력이 비어 있으면 디폴트 예시 내용을 넣는다.  
결과는 실제 업무 문서에 기록 가능한 수준의 정확성·간결성을 유지하라.

---

입력 형식:
[업무 내용]
1. 오늘 수행한 업무 정리
내용:
"""
📅 2025-11-13 업무 질의 요약
1. PDF 분석 AI 구축 관련

질문 요지:
“5페이지 내외의 PDF를 통째로 읽고 분석하는 AI를 만들려면 어떻게 해야 하나?”

핵심 내용:

전체 PDF 텍스트 추출(OCR 포함)

전처리 및 청크화

임베딩/벡터DB 구성

요약, 키워드, 질의응답 등 분석 모듈 구성

LangChain 구조 기반 설계 가능성 검토

출력은 요약·키워드·질의응답 결과로 정리

2. LangChain + LangGraph 기반의 비챗형 파이프라인 설계

질문 요지:
“랭체인/랭그래프로 만들고 싶은데, 챗 기반이 아니고 업무는 정해져 있다.”

핵심 내용:

비대화형 자동 분석 파이프라인 설계 제안

LangGraph 상태 기반 워크플로우(load_pdf → split_text → analyze_* → build_report)

각 단계 모듈화(loaders.py, splitters.py, analyzers.py, reporters.py)

최종 출력은 구조화된 JSON 리포트

스캔 PDF 대응(OCR/Unstructured hi_res)

예제 코드 포함: PyPDFLoader, RecursiveCharacterTextSplitter, ChatOpenAI 기반 요약 체인 등

확장성(5p → 50p 시 in-memory FAISS 추가) 고려

3. LLM 반복 호출 최적화 방법

질문 요지:
“랭체인에서 동일한 작업을 여러 번 LLM을 호출할 때, 비용과 시간을 줄이는 방법이 있나?”

핵심 내용:

batch() / abatch() 사용으로 병렬 LLM 호출 최적화

Map-Reduce 방식으로 병합 단계 1~2회 호출로 축소

LLM 캐시(SQLiteCache) 적용으로 동일 입력 재호출 방지

입력 디듀플리케이션(MD5 또는 임베딩 기반)

JSON 구조화 출력으로 후처리 재호출 방지

혼합 모델 전략: map은 경량 모델, reduce는 고성능 모델

max_concurrency, timeout, retry 정책 설정

프롬프트 캐싱·함수호출 모드 활용

4. 맥락

모든 대화는 업무 자동화/AI 개발 문맥 내에서 진행됨.

목적: 문서 자동 분석 AI 프로토타입을 LangChain·LangGraph로 구현하고, LLM 호출 효율을 최적화하기 위한 설계·성능 개선 방향 논의.

요약하면,

11월 13일 대화의 핵심 주제는 **“PDF 문서 자동 분석 AI의 LangChain·LangGraph 파이프라인 설계 및 LLM 비용 절감 최적화 전략”**이었다.
""" 
2. 코드상에서 수행한 업무 정리
내용:
"""
11/13(목) 작업 요약

  주요 작업: PDF 로더 구조 리팩토링

  커밋 정보:
  - 시간: 오후 6:05 (18:05)
  - 커밋 메시지: "refactor: PDF 로더 구조 통일 및 텍스트/테이블 분리"
  - PR #18 머지 완료 (claude-api 브랜치 → main)

  주요 변경사항:

  1. 테이블 형식 변경
    - Markdown → HTML 구조로 전환
    - _table_to_markdown() → _table_to_html() 함수로 변경
  2. 텍스트와 테이블 분리
    - 텍스트와 테이블을 metadata에 별도 저장
    - 새로운 필드: tables_html 추가
    - page_content에는 순수 텍스트만 저장
  3. PDF 로더 표준화
    - 5개 로더 전체 구조 통일
        - PDFPlumber
      - PyMuPDF
      - PDFMiner
      - PyPDFium2
      - PyPDF2
  4. 새 함수 추가
    - format_documents_to_html(): Document 리스트를 HTML 태그 형식으로 변환

  개선 효과:
  - 콘텐츠와 테이블의 명확한 구분
  - LLM의 구조화된 데이터 파싱 용이
  - 모든 PDF 로더 인터페이스 통일

  변경 파일: backend/loaders/pdf_loader.py (108줄 추가, 26줄 삭제)
""" 

[느낀 점]
1. 다른사람들과 대화를 나누면서 나는 혼자하는 업무보다는 현장에서 소통하며 업무를 하는 것이 잘 맞는다. 그렇지만 혼자 개발하는 것에 무척이나 한계를 느낀다. 사람들이 주는 아이디어는 많은데 혼자 하기에 벅차고 아쉬운 맘이다. 내일은 또 회의가 있는데 이로 인해서 실제 업무량이 줄어 아쉽다.

---

출력 양식:

# 📅 날짜: (예: 25.11.11 (화))

## 🧩 주요 업무
- 오늘 수행한 핵심 업무를 구체적으로 요약  
- 기술적 결과, 진행 상황, 산출물 등을 명시  

## 🎯 목표 정리
### 장기 목표
- 프로젝트의 중장기적 방향 또는 최종 지향점  
### 단기 목표
- 오늘 혹은 이번 주 달성 목표  

## ⚙️ 진행 및 이슈
- 진행 단계별 구체적 내용  
- 발생한 문제와 해결 과정  
- 미해결 과제 및 후속 조치  

## 🧠 느낀 점 및 개선
- 사용자 입력 기반으로 정리된 통찰, 개선 아이디어, 학습 내용  

## 🤝 협업 및 커뮤니케이션
- 회의, 보고, 협업 이슈, 의사소통 내용 정리  
- 논의된 결정사항 및 향후 조율 방향  

## 📚 참고 및 학습 내용
- 새로 학습하거나 참고한 기술·논문·문서  
- 업무 개선에 도움이 된 개념 또는 자료  

## 📈 성과 및 지표
- 정량적 성과(예: 정확도, 속도, 효율 등)  
- 수치가 없을 경우 주요 진척도를 서술  

## 🗓️ 내일 계획
- 다음 업무 목표 및 우선순위  
- 예상 리스크 및 대비책  

---

지침:
1. 전체 분량은 300~500단어 이내로 유지한다.  
2. 문장은 명사형·서술형으로 끝내며, 감정적 표현은 제외한다.  
3. 입력이 비어 있으면 아래 기본 내용을 자동으로 채운다.

---

[기본 디폴트 예시]
- **업무 내용**: LangChain 실습 복습, 문서 분석 코드 개선, 팀 회의 참석  
- **느낀 점**: 구조화된 학습이 업무 이해에 도움됨. 반복 작업 효율 개선 필요.
```

