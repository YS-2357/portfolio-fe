---
태그: []
날짜: "2025-12-04"
이름: "25.12.04 (목)"
---

# 25.12.04 (목)


# 📅 날짜: 25.12.04 (목)


## 🧩 주요 업무


- 보험 웹/모바일 챗봇 UX 방향 회의 및 정리: 웹 사이드바·모바일 패턴(바텀시트, 플로팅 버블, 인라인 팁) 구조 정의

- LLM·백엔드 기술 스택 역할 분리 정리: AI 워크플로우(Python/JS)와 서비스 백엔드(Java/Go 등) 구조 구분

- 보험 LLM 챗봇 시나리오 10개·30턴에 대한 분류/의도/경로 정확도 평가(약 86.7%) 및 오라벨 구간 정리

- Streamlit 프론트엔드 디버그 UI 개선: 분류·의도·검증 점수·경로를 한 화면에서 확인 가능한 시각화 기능 추가

- 챗봇 테스트(약 50회) 수행 및 로그 기반 동작 검증

## 🎯 목표 정리


### 장기 목표


- 인톡 파트너스 2.0 전반(보장분석, 건강체, 설계 점수)에 공통으로 붙는 “Navigator+QnA 역할”의 보험 특화 LLM 챗봇을 정의·구현하고, 웹·모바일 환경 모두에서 일관된 UX로 제공하는 체계 확립

- 보장분석·PDF 분석·상담·건강체 등 여러 기능을 하나의 LLM 워크플로우로 통합하고, 서비스 백엔드와 분리된 AI 전용 서버 구조를 안정적으로 운영 가능한 수준으로 고도화

### 단기 목표


- 웹 사이드바·모바일 챗봇 UX 패턴을 기준으로 실제 화면 설계 혹은 프로토타입에 반영 가능한 수준까지 구체화

- insure-gpt 프론트엔드 디버그 UI를 활용해 분류/의도/경로 오류 케이스를 빠르게 재현·수정할 수 있는 테스트 사이클 정비

## ⚙️ 진행 및 이슈


- 웹 사이드바 챗봇을 단순 FAQ 위젯이 아닌, 현재 페이지/단계를 인지하고 다음 행동을 안내하는 Navigator+QnA 역할로 정의하고,

- 모바일 환경에서는 바텀시트 챗봇, 플로팅 버블, 인라인 AI 팁 3가지를 조합하는 패턴을 현실적인 방향으로 정리함

- LLM은 HTTP 호출이 가능한 모든 언어에서 사용 가능하지만, LangChain·LangGraph·RAG·에이전트 등 고급 오케스트레이션은 사실상 Python/JS 중심이라는 점을 기준으로,

- 보험 LLM 시나리오 10개·30턴에 대해 분류/의도/경로를 수치 평가한 결과, 전체 정확도 약 86.7%, 분류/경로 약 93.3%, 의도 약 86.7% 수준으로 확인했고, coverage_inquiry·PDF 기능 질문 등 경계 케이스에서 오라벨 필요 구간을 정리함

- 프론트엔드 `streamlit_app.py`에 디버그 정보 시각화 기능을 추가하여, 각 턴마다

- `main.py`에서 OS별 분기 코드를 정리하고, FastAPI 서버 로그를 터미널에 직접 출력하도록 변경하여 실행 구조를 단순화함

## 🧠 느낀 점 및 개선


- 상위 의사결정자의 방향성이 충분히 구체화되지 않은 상태에서 각 구성원이 서로 다른 전제를 가지고 논의하는 상황이 반복되고 있어, UX·기술 구조·우선순위 등에 대해 문서 기반의 합의된 기준을 명확히 둘 필요가 있음

- 질문에 대한 피드백 방식이 “정답 탐색”이 아니라 “특정 관점에의 수렴”으로 작동할 때, 팀원들이 안전한 답변·모호한 표현을 선택하게 되는 경향이 있어, 결과적으로 실행 가능한 구체안이 쌓이기 어렵다는 점을 관찰함

- 실무적으로는, 상위 방향성이 다소 모호하더라도 오늘 정리한 UX 패턴, 기술 스택 역할 분리, 시나리오 정확도 지표 등은 향후 다른 환경에서도 재사용 가능한 자산이므로, 이를 문서·코드 레벨에서 독립적으로 정리해 두는 것이 필요함

## 🤝 협업 및 커뮤니케이션


- 챗봇을 “페이지 위에 얹힌 도구”가 아니라 “서비스 전반의 내비게이터 역할”로 두자는 관점을 공유함으로써, 이후 디자인·프론트엔드·백엔드 간 협업의 공통 언어로 활용 가능한 기준을 마련함

- LLM 시나리오 평가에서 발견한 오라벨 케이스(coverage_inquiry, 기능 설명, 도메인 내 거절 사례 등)를 기반으로, 향후 의도 라벨링 기준과 라우팅 정책을 재정의해야 한다는 필요성을 확인함

## 📚 참고 및 학습 내용


- 다중 디바이스(웹/모바일)에서의 AI 보조 인터페이스 패턴: 사이드바, 바텀시트, 플로팅 버블, 인라인 팁 등 패턴의 장단점 및 적용 위치 정리

- LangChain·LangGraph 중심의 AI 오케스트레이션과 일반 백엔드(REST API, 회원/결제 시스템) 사이의 역할 분리를 어떻게 설계하는지에 대한 업계 일반 구조 정리

## 📈 성과 및 지표


- 보험 LLM 시나리오 30턴에 대한 구조적 정확도 수치화

- Streamlit 프론트엔드에서 분류·의도·검증 점수·경로를 한눈에 확인할 수 있는 디버그 패널을 추가하여, 이후 모델 개선 시 반복 테스트 효율 향상 기반 확보

## 🗓️ 내일 계획


- 오늘 정리한 UX 패턴과 LLM 시나리오 평가 결과를 기반으로, 챗봇 플로우 다이어그램 및 상태 전이 구조를 문서화

- 디버그 UI를 활용하여 오분류·오라벨 케이스를 집중 재현하고, 프롬프트/정책·후처리 기준을 조정하는 개선안 후보 정리

- Python/JS 기반 AI 서버와 서비스 백엔드 간 API 인터페이스(입력/출력 스키마, 오류 처리 방식)를 초안 수준으로 정의하여, 이후 팀 내 공유를 위한 기초 자료 준비

```json
당신은 ‘업무일지와 회고 정리 전문가’다.  
아래 사용자의 입력을 바탕으로 하루치 업무일지를 Markdown 형식으로 작성하라.  
입력이 비어 있으면 디폴트 예시 내용을 넣는다.  
결과는 실제 업무 문서에 기록 가능한 수준의 정확성·간결성을 유지하라.

---

입력 형식:
[업무 내용]
1. 회의 업무 내용
"""
## 2025-12-04 업무 정리

### 1. 보험 웹 챗봇 UX 방향 정리 (웹 사이드바 기준)

* **사이드바 챗봇 역할 재정의**

  * 단순 FAQ 위젯이 아니라,
    → 사용자의 현재 화면/단계를 이해하고
    → 다음 행동을 안내하는 **Navigator + QnA 에이전트**로 정의
* **주요 역할 정리**

  * 페이지 컨텍스트 기반 설명: 보장명, 특약, 부족/과보장 설명
  * 워크플로우 안내: “지금은 보장분석 단계, 다음은 건강체 진단” 등 단계 안내
  * 액션 유도: “보장분석 리포트 만들기”, “다음 단계로 이동” 등 버튼/액션 트리거
* **설계 방향**

  * 파트너스 2.0의 각 기능(보장분석, 건강체, 설계 점수) 위에 공통으로 붙는 **사이드바 챗봇**을 전제로 개념 정리 완료

---

### 2. 모바일 환경에서의 챗봇 UX 아이디어 정리

* 여러 아이디어 중, **모바일에 적합한 3가지 패턴만 선별 정리**

  1. **바텀시트(Bottom Sheet) 챗봇**

     * 화면 하단에서 슬라이드업되는 형태
     * 메인 화면(보장표/결과)을 보면서 동시에 챗봇 도움을 받는 구조
  2. **플로팅 버블(Floating Bubble)**

     * 화면 구석의 작은 AI 아이콘 → 탭 시 바텀시트/팝업 열림
     * 어디서든 “지금 화면에 대한 설명/다음 단계”를 물어볼 수 있는 구조
  3. **인라인 AI 팁(Inline Tip)**

     * 암진단비, 뇌혈관, 갱신형 등 특정 요소 위에 말풍선/툴팁 형태로 자동 설명 제공
     * 챗봇 창을 열지 않아도, 문맥 기반 가이드만 바로 노출

* 최종 정리:

  * **모바일 = 바텀시트 + 플로팅 버블 + 인라인 팁의 조합**이 가장 현실적이라는 방향성 정리

---

### 3. LLM/백엔드 기술 방향 정리 (언어·프레임워크 관점)

* **LLM 사용 언어 범위 정리**

  * Python 외에도 Java, JS/TS, Go, C#, Kotlin, Swift 등 **HTTP 호출 가능한 모든 언어에서 사용 가능**하다는 점 정리
* **LangChain·LangGraph 지원 범위 정리**

  * 고급 AI 오케스트레이션(LangChain, LangGraph, RAG 템플릿, Retriever 조합 등)은
    → 사실상 **Python / JavaScript에만 집중 지원**
  * Java/Go 등에서는 LLM 호출은 가능하지만,
    → RAG·에이전트 기능은 대부분 **직접 구현해야 하는 구조**라는 점 정리
* **구조적 결론**

  * 실서비스 백엔드(회원/결제/권한)는 Java/Go 등도 가능하지만,
  * **AI 워크플로우(보장분석, 건강체, 챗봇 에이전트)는 Python/JS로 별도 서버 구성**하는 방향이 업계 표준이라는 점 재확인

---

### 4. 보험 LLM 챗봇 시나리오 평가(분류·의도·경로 정확도 점검)

* **대상 모델**: `openai: gpt-4o-mini`

* **작성 내용**

  * 암보험, 실손보험, 뇌혈관, 사망보장, 수술비, 청구, 혼합질문 등 **10개 시나리오, 총 30개 턴** 구성
  * 각 턴마다:

    * 분류(보험/비보험)
    * 의도(intent: general_question / coverage_inquiry / pdf_analysis / reject 등)
    * 경로(route: 분류→의도→생성→검증 / 분류→거절 등)
  * 실제 답변과 메타 정보(분류·의도·검증 점수·경로)를 붙여 샘플 로그 형태로 정리

* **정확도 점검 결과(당일 분석 기준)**

  * 전체 30턴 중 **26턴 일치**, 4턴에서 의도/분류/경로 오라벨 확인
  * **전체 정확도**
    $$ \text{Accuracy} \approx 86.7% \ (26/30) $$
  * 세부:

    * 분류(보험/비보험): 약 **93.3%** (2턴 오분류)
    * 의도(intent): 약 **86.7%** (coverage_inquiry / general_question 경계 이슈)
    * 경로(route): 약 **93.3%** (거절 vs 정상 플로우 2턴 오류)

* **주요 개선 포인트 정리**

  * “얼마나 가입해야 해요?”, “추천해줘(앞에서 암보험 맥락)” 등은
    → 명확히 **coverage_inquiry(보장/상품 추천)**로 태깅해야 함
  * “PDF 어디서 올리나요?”처럼 **보험 기능 사용법/업로드 위치 질문**은
    → 비보험이 아니라 **보험+PDF 분석 맥락 유지**로 보는 게 자연스러움
  * 도메인 안인데 거절로 간 턴(뇌경색/뇌출혈 차이 설명 등)을 명확히 교정할 필요 확인

---

### 5. 전체 요약 한 줄

* **12월 4일에는**

  1. 웹/모바일 보험 챗봇의 UX 방향(사이드바 & 모바일 패턴)을 정리하고,
  2. LLM/백엔드 언어·프레임워크 역할을 정리했으며,
  3. 보험 특화 LLM 시나리오 10개·30턴에 대한 **분류/의도/경로 정확도(약 86.7%)를 수치로 평가**하는 작업을 수행했다.

"""
2. 코드 업무 내용
"""
● 12월 4일 insure-gpt 작업 정리

  1. 커밋되지 않은 변경사항 (현재 작업 중)

  수정된 파일 2개:

  | 파일                        | 변경 내용       |
  |---------------------------|-------------|
  | frontend/streamlit_app.py | +115줄, -17줄 |
  | main.py                   | +2줄, -7줄    |

  ---
  2. 상세 변경 내용

  frontend/streamlit_app.py - UI 개선

  - 디버그 정보 시각화 기능 추가
    - chat_debug_info 세션 상태 추가 (각 턴의 디버그 정보 저장)    
    - render_debug_info() 헬퍼 함수 신규 구현
    - 4개 컬럼으로 분석 결과 표시:
        i. 분류 (보험/비보험)
      ii. 의도 (일반질문/PDF분석/보장문의)
      iii. 검증 점수 (색상 코딩: 90+녹색, 70+노랑, 그 외 빨강)     
      iv. LangGraph 경로 표시
  - 대화 초기화 시 디버그 정보도 함께 초기화

  main.py - 서버 실행 개선

  - Windows/Unix 분기 조건문 제거 (불필요한 중복 코드)
  - FastAPI 서버 stdout/stderr를 터미널에 직접 출력하도록 변경     

  ---
  3. 12월 4일 테스트 로그 요약

  로그 기준 약 50회 이상의 챗봇 테스트 수행:
  - 보험 일반 질문 (암보험, 진단비, 실손보험 등)
  - 의도 분류 테스트 (general_question, coverage_inquiry,
  pdf_analysis)
  - 비보험 질문 필터링 테스트 (점심 메뉴, 주식, 부동산 질문 →      
  unknown)
  - 멀티턴 대화 테스트
"""

[느낀 점]
1. 대표님이 방향성을 정해주지 않아 모든 사람의 생각이 전부 다르다. 이를 통합할 헤드급 인력도 없고 중구난방이다. 대표님은 우리의 생각을 물어보면서 자신의 생각과 다른 답변을 하면 가차없이 끊는다. 결국 모호한 방향성만을 남기게 되어 모두의 불만이 쌓인다. 참 별로다, 이 직장은.

---

출력 양식:

# 📅 날짜: (예: 25.11.11 (화))

## 🧩 주요 업무
- 오늘 수행한 핵심 업무를 구체적으로 요약  
- 기술적 결과, 진행 상황, 산출물 등을 명시  

## 🎯 목표 정리
### 장기 목표
- 프로젝트의 중장기적 방향 또는 최종 지향점  
### 단기 목표
- 오늘 혹은 이번 주 달성 목표  

## ⚙️ 진행 및 이슈
- 진행 단계별 구체적 내용  
- 발생한 문제와 해결 과정  
- 미해결 과제 및 후속 조치  

## 🧠 느낀 점 및 개선
- 사용자 입력 기반으로 정리된 통찰, 개선 아이디어, 학습 내용  

## 🤝 협업 및 커뮤니케이션
- 회의, 보고, 협업 이슈, 의사소통 내용 정리  
- 논의된 결정사항 및 향후 조율 방향  

## 📚 참고 및 학습 내용
- 새로 학습하거나 참고한 기술·논문·문서  
- 업무 개선에 도움이 된 개념 또는 자료  

## 📈 성과 및 지표
- 정량적 성과(예: 정확도, 속도, 효율 등)  
- 수치가 없을 경우 주요 진척도를 서술  

## 🗓️ 내일 계획
- 다음 업무 목표 및 우선순위  
- 예상 리스크 및 대비책  

---

지침:
1. 전체 분량은 500~650단어 이내로 유지한다.  
2. 문장은 명사형·서술형으로 끝내며, 감정적 표현은 제외한다.  
3. 입력이 비어 있으면 아래 기본 내용을 자동으로 채운다.
4. 날짜는 월화수목금의 요일만 사용한다.

---

[기본 디폴트 예시]
- **업무 내용**: LangChain 실습 복습, 문서 분석 코드 개선, 팀 회의 참석  
- **느낀 점**: 구조화된 학습이 업무 이해에 도움됨. 반복 작업 효율 개선 필요.
```

