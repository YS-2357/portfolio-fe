---
태그: []
이름: "7일차"
---

# 7일차


## 🗓️ 일자: 250324(월)


## ✍ 작성자: 정영선


---


## ✅ 오늘 할 일


- [ ] Faster-RCNN 파이프라인 테스트 (데이터로더, basic_frcnn, train, test, make_csv)

- [ ] YOLO 파이프라인 구축 (basic_yolo, train, test)

- [ ] 시각화 함수 개발

---


## 🎯 오늘 한 일


**Faster-RCNN 파이프라인 테스트를 위해 데이터로더를 수정하고, YOLO 파이프라인 구현에 착수했습니다.**


1. **데이터로더 수정**: Stratify 기반 split, 파이프라인 전반에서 사용할 수 있도록 범용성 강화

1. **전처리 흐름 재정립 필요성 인식**: YOLO 학습 위해 데이터 변환 모듈 정리 예정

1. YOLO 모델은 라이브러리 기반으로 **학습·추론 이후 단계는 수월할 것으로 예상**

1. make_csv 실행 위치 고민, 카테고리 매핑은 **main 진입점에서 한 번만 수행**하는 구조로 변경 제안

---


## 🛠️ Issues & Challenges


- YOLOv5 가중치 불러오기 문제 발생 → **YOLO 버전 재조정**으로 해결 시도 중

---


## 💡 Notes & Ideas


- `make_csv`: 테스트 내부에서 실행 vs 별도 실행 → 상황 따라 유연하게 대응

- `main.py`: 학습 루틴 포함 여부 → 초기 통합 후 기능 검증 이후 분리

- 카테고리 매핑은 반복 호출 방지 위해 **초기 1회 수행 구조로 제안**

- 전처리 관련 유틸은 **data_modify.py 등 모듈로 분리 정리**

---


## 🔄 내일 할 일


- [ ] YOLO 전처리 및 전처리 모듈 정리

- [ ] Faster-RCNN 파이프라인 완성

- [ ] Task 3

---


## 📝 Reflection


- 팀을 이끄는 건 여전히 어렵지만, 파이프라인이 거의 완성돼 가는 성취감이 있다.

---


## 🖥️ 코드 스니펫


```python
        # 라벨 추출
        labels_for_stratify = []
        # 마지막 카테고리 아이디를 기준으로 분포를 측정(왜곡이 될 수 있지만 감당 가능함)
        for idx in range(len(base_dataset)):
            ann = base_dataset.get_ann_info(idx)
            if ann is not None and ann["annotations"]:
                rep_label = ann["annotations"][-1]["category_id"]
            else:
                rep_label = 0
            labels_for_stratify.append(rep_label)
        
        train_idx, val_idx = train_test_split(
            range(len(base_dataset)), test_size=val_ratio, random_state=seed, stratify=labels_for_stratify
        )
```

