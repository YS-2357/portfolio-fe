---
태그: []
이름: "17일차"
---

# 17일차


### [1] 오늘 날짜 / 이름 / 팀명


- 날짜: 2025-07-22

- 이름: 정영선

- 팀명: GEO-GEO

---


### [2] 오늘 맡은 역할 및 구체적인 작업 내용


✍️ 답변:


```plain text
이미지 생성 파이프라인(ImgGenPipeline) 개발 및 리팩토링 담당. 
- product dict 기반으로 이미지 생성 기능 구현 → 이미지 경로 리스트 입력 시, 각 이미지별 생성 후 결과 경로 리스트 반환.
- prompt builder 리팩토링: try-except 구조 단순화, 공통 함수(safe_generate_prompt) 추가.
- image_loader 및 background_handler 코드 검토 및 예외처리 개선.
- hash_utils는 예외 발생 가능성 검토 후 fallback 코드 삽입 결정.
- image_generator_main.py 리팩토링: try 블록 세분화, 메모리 해제(gc, torch.cuda.empty_cache) 추가.
- huggingface-cli를 활용해 IP-Adapter 로컬 다운로드 및 자동 적용 로직 구현 방향 고려.
- 디버깅: IP-Adapter 관련 오류(`tuple` object has no attribute 'shape', NoneType error) 분석 및 원인 파악 → attention slicing과 config.json 부재 원인 확인.
- FastAPI 실행 시 model_index.json 오류 해결 방법 조사 및 로컬 모델 구조 확인.
- 실행 테스트(image_test.py) 진행 및 결과 로그 분석, 캐시 적용 및 성능 확인.
- 이미지 생성 결과 확인: 상의/하의 이미지 생성 결과에서 프롬프트 적합성 문제 발견.
```


---


### [3] 오늘 작업 완료도 체크 (하나만 체크)


- [ ] 🔴 0% (시작 못함)

- [ ] 🟠 25% (시작은 했지만 진척 없음)

- [ ] 🟡 50% (진행 중, 절반 이하)

- [ ] 🔵 75% (거의 완료됨)

- [x] 🟢 100% (완료 및 점검까지 완료)

📌 간단한 근거:


```plain text
이미지 생성 로직(product dict 기반) 완성, prompt builder 리팩토링 완료, 메모리 효율 개선, 기본 테스트 성공.
하지만 IP-Adapter 로컬 완전 자동화 및 FastAPI 환경 완전 통합은 내일 마무리 필요.
```


---


### [4] 오늘 협업 중 제안하거나 피드백한 내용이 있다면?


✍️ 답변:


```plain text
- product dict만으로 이미지 생성하도록 input 구조 단순화 아이디어 제안.
- 이미지 생성 후 경로를 file:// 형식으로 변환해 상세페이지에 활용하자는 의견에 동의.
- FastAPI에서 발생한 model_index.json 문제 원인과 해결 방안 공유.
- 팀 회의에서 이미지 생성 테스트는 한 명씩 실행하도록 제안(서버 메모리 부족 방지).
```


---


### [5] 오늘 분석/실험 중 얻은 인사이트나 발견한 문제점은?


✍️ 답변:


```plain text
- 상의/하의 이미지를 동시에 넣었을 때, product dict의 설명이 상의 중심이라 하의 이미지 생성 시 프롬프트 부적합 → 생성 이미지 품질 저하.
- IP-Adapter 주입 시 attention slicing 옵션과 충돌 가능성 발견.
- IP-Adapter 적용 에러 원인: ip-adapter_sdxl.json 파일 부재 확인 → 가중치 파일만 다운로드로는 부족, 구조 정보 필요.
- FastAPI 실행 시 accelerate hook 관련 경고 및 model_index.json 부재 문제 → 로컬 모델 구조 점검 필요.
```


---


### [6] 일정 지연이나 협업 중 어려웠던 점이 있다면?


✍️ 답변:


```plain text
- 서버 저장공간 부족(ENOSPC)으로 코드 저장 및 실행 지연 → 불필요한 캐시 삭제로 해결.
- 권한 문제(EACCES)로 /home/ubuntu 경로 코드 수정 불가 → chmod로 해결.
- IP-Adapter 자동화 로직 구현 중 필요한 파일 구조 확인에 시간이 소요됨.
- GCP VM 메모리 한계로 동시에 두 명 이상 이미지 생성 테스트 불가능 → 실행 순서 조율 필요.
```


---


### [7] 오늘 발표 준비나 커뮤니케이션에서 기여한 부분은?


✍️ 답변:


```plain text
- 팀 회의에서 오늘 작업 진행 상황 및 디버깅 로그 공유.
- FastAPI, IP-Adapter 로딩 문제 및 해결책 문서화.
- 내일 발표 준비를 위한 코드 흐름과 예상 질의사항 정리 초안 작성.
```


---


### [8] 내일 목표 / 할 일


✍️ 답변:


```scss
- IP-Adapter 자동 다운로드 + 로컬 우선 적용 완전 구현.
- get_model_pipeline() 최종 리팩토링 (fallback 구조 + VRAM 최적화).
- FastAPI 통합 테스트 및 이미지 생성 엔드포인트 점검.
- README 초안 작성 시작.
```



