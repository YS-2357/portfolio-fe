---
태그: []
이름: "12일차-250527(화)"
---

# 12일차-250527(화)


## 🗓️ 일자: 250527(화)


## ✍ 작성자: 정영선


---


## ✅ 오늘 할 일


- [x] `rag_pipeline()` 정리

- [x]  리트리버 및 유틸즈 코드 리팩토링 마무리

- [x] [`README.md`](http://readme.md/), 보고서 작성 및 구성 논의

- [x] 가상환경 재설치 및 권한 설정 문제 해결

---


## 🎯 오늘 한 일


1. **retrieval.py / retrieval_main.py 리팩토링**

1. **README.md 초안 작성 및 구성 논의**

1. **requirements 파일 정리 실험**

1. **가상환경 재설치 및 권한 문제 해결**

1. **팀 회의 정리**

---


## 🛠️ Issues & Challenges


- **문제 1:** 숨김파일 접근 불가

- **문제 2:** `pipreqs` 경로 문제로 `requirements.txt` 생성 실패

- **문제 3:** SSH 접속 권한 문제

- **문제 4:** 리트리버 성능 저하

---


## 💡 Notes & Ideas


- 검색 성능 향상을 위해 섹션 추출 및 클리닝 순서 재조정/ re-ranker 모델 및 앙상블 구조 수정 검토 필요

- `pipreqs` 기반 requirements.txt는 명확한 프로젝트 의존성 추출에 적합하나 경고가 많으므로 수동 검토 필요

- `.env` 키 입력 유도 및 경고 제거 UX는 안정적으로 작동

- README.md와 보고서는 분리, 보고서는 Notion/Canva에서 개조식 구성 유지

---


## 🔄 내일 할 일


- [ ] FAISS vs Chroma 임베딩 속도 수치 비교

- [ ] 모델별 응답 시간과 품질 차이 비교 (예: HuggingFace 모델)

- [ ] README.md 최종 정리

- [ ] requirements.txt / environment.yaml 정리 완료

- [ ] 문서 정리 시작 (Notion/Canva 기반)

---


## 📝 Reflection


- 팀원이 하나에 집중하지 못하고 여러가지 일을 해서 정리하기 힘들다는 말을 들으니 너무 안타깝다. 업무분배를 잘 하지 못한 것 같아서 속상하다.

- 팀장으로서 업무를 주려고 하는 것에 급급하다보니 막상 코드를 짜는 시간이 너무 없었다고 느낀다. 보고서를 만들 때에 무슨 코드를 만들었냐 물어보면 대답할 거리가 잘 생각나지 않는다. 

- 다음 프로젝트에서는 팀장을 하고 싶지 않다. 다른 팀장의 방식을 배워보고 싶다.

---


## 🖥️ 코드 스니펫


```python
fallback_patterns = [
        # 1차: 다양한 목차 포맷을 포괄하는 강화된 정규식
        re.compile(
            r"""
            (?:^|\n)[ \t]*
            (
                (?:\d+(?:\.\d+)*[.)])       # 숫자 기반 (1., 1.1. 등)
                | (?:[가-힣]{1}[.)])             # 한글 문자 (가., 나. 등)
                | (?:\[\d+\])                 # [1]
                | (?:\[\s*붙임\s*\d+\s*\])  # [붙임 1]
                | (?:[①-⑳])                    # 특수 숫자 기호
                | (?:[○•※❍□ㅇ])                # 일반 문서 특수기호
                | (?:[IVXLCDM]{1,4}[.)])        # 로마 숫자
            )
            [ \t]+
            ([^\n]{2,100})                     # 제목 텍스트
            """,
            re.MULTILINE | re.VERBOSE
        ),
        # 2차: 단순 숫자 기반 목차만 인식 (fallback)
        re.compile(r"\n?(\d+(\.\d+)*\s?[.)]?\s+[^\n]{2,100})")
    ]

    for pattern in fallback_patterns:
        matches = list(pattern.finditer(text))
        if matches:
            chunks = []
            for i in range(len(matches)):
                start = matches[i].start()
                end = matches[i + 1].start() if i + 1 < len(matches) else len(text)
                title = matches[i].group().strip()
                content = text[start:end].strip()
                chunks.append({"title": title, "content": content})
            return chunks

    # 섹션 패턴이 전혀 없을 경우 빈 리스트 반환
    print("⚠️ [Warning] (splitter.extract_sections) 섹션 패턴이 발견되지 않음")
    return []

```

