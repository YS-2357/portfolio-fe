---
태그: []
이름: "6일차-250519(월)"
---

# 6일차-250519(월)


## 🗓️ 일자: 250519(월)


## ✍ 작성자: 정영선


---


## ✅ 오늘 할 일


- [x] LangSmith 수동 트레이싱(log tracing) 연동 및 오류 해결

- [x] `generator.load_model` 전반에 걸쳐 방어적 예외처리 적용

- [x] 제너레이터 응답 후처리 로직 및 프롬프트 가이드 반영

- [x] 팀원 전체 파트 분배 및 업무 재정의

- [x] 의미기반 분할 시 목차 간 간격 문제 진단 및 청킹 방식 개선 논의

- [x] 청크 최소/최대/평균 길이 기반 문서 품질 요약 정리

- [x] 질문에 따른 적절한 문서 반환 전략 논의 및 과제 정의

- [x] Notion 기반 문서화 방식, 로그 출력 형식, 실험 기준 통일

- [x] `generator_test.py` 기반 CLI 테스트 루틴 정비 및 실행

---


## 🎯 오늘 한 일


1. **청크 품질 검사 및 샘플 확인 기능 구현:**

1. **LangSmith 로깅 완전 적용:**

1. **모델 로딩 코드에 방어적 예외처리 일괄 적용:**

1. **청크 기준 설계 문제점 확인:**

1. **프롬프트 템플릿 가이드 및 예시 정리:**

1. **팀원 업무 분배 및 테스트 구조 통일 제안:**

---


## 🛠️ Issues & Challenges


- **문제 1:** LangSmith 로깅 누락 → `@traceable`로는 루트 컨텍스트가 없을 때 기록이 되지 않는 구조임을 파악하고 `trace()` 수동 트레이싱으로 변경하여 해결

- **문제 2:** `BitsAndBytesConfig` 적용 시 `bitsandbytes` 미설치 → 패키지 설치 후 해결, CUDA 메모리 최적화 구조 이해함

- **문제 3:** Phi-4-mini 모델 사용 시 OutOfMemoryError → quantization 설정 변경, 청크 길이 및 prompt 축소 제안

---


## 💡 Notes & Ideas


- 하이브리드 청킹 전략 필요:

- LLM 프롬프트 설계 가이드 정리 완료:

---


## 🔄 내일 할 일


- [ ] `ㅎ`으로 시작하는 문서 2개에 대해 의미 기반 청크 분할 지점 설계 및 공유

- [ ] PDF 리더기 오류 문서 확인 및 대체 도구 탐색 (ex. PyMuPDF → pdfplumber 등)

- [ ] 모델 응답 평가를 위한 예시 질문 세트 수집 및 결과 기록화

---


## 📝 Reflection


- 단순한 청크 분할이 아닌 의미 단위에 따른 청킹 필요성이 명확해졌고, 이를 위한 규칙 기반 + 토큰 기반 병용 전략이 효과적일 것으로 판단됨

- 로깅/예외처리 구조를 미리 설계하고 작성하니 협업 중 오류 추적 및 재현이 매우 쉬워졌음

- 저번 주와 비교하면 훨씬 나아졌다. 역시 문제정의와 폴더구조에 따른 업무 분배가 최고인 것 같다.

---


## 🖥️ 코드 스니펫


```python
except Exception as e:
	raise RuntimeError(f"❌ (generator.load_model.load_generator_model) 토크나이저 로딩 실패: {e}") 
```

