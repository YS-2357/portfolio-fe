---


- **프로젝트명**: RFP 요약·질의응답 시스템 (RFP Summarizer & QA Chatbot)

- **팀명**: B2G 입찰 지원 전문 컨설팅 스타트업 – 'RFPilot'

- **기간**: 2025.05.12 ~ 2025.05.30

- **작성자**: 정영선, 구극모, 박규리, 이학진, 정재의

- **GitHub 링크**: [https://github.com/gyurili/2025-LLM-Project](https://github.com/gyurili/2025-LLM-Project)

---


# 👥 팀 구성 및 역할















# 🛠️ **주요 기술 및 라이브러리**



# **1. **🧾 **프로젝트 개요**


- **프로젝트 동기 및 배경**

- **목표**

- **기대 효과**

---


# **2. **⚙️ **주요 기능**


- **문서 정보**: PDF 및 HWP 포맷으로 구성된 100개의 RFP 문서

- **문서 요약**: 문서 전체 내용에 대한 핵심 요약 제공

- **질의응답**: DB에 저장된 문서 내용을 기반으로 사용자의 자연어 질문에 답변 제공

- **설정 관리**: `config.yaml`을 통한 파이프라인 전반 설정 일괄 관리

- **인터페이스**: Streamlit 기반 GUI 제공

---


# **3. **🖥️ **시스템 아키텍처**


![](https://prod-files-secure.s3.us-west-2.amazonaws.com/74816d19-4826-4987-99da-a7850e85f3d3/410de2eb-b7ae-4cfd-a5ad-e11c6641a4ad/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667KJ57CDM%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T081506Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDcaCXVzLXdlc3QtMiJIMEYCIQCo3b2dGMfM3BFIiOf04zdncNXyZIrPyveMJot8jpOcuQIhAObQKoS%2BfD%2FIPdfI79wcadkiZ%2B4HBo2V6CPD3ohK2KDwKv8DCAAQABoMNjM3NDIzMTgzODA1IgwTY3SqiV5plnJ3v80q3APKTcBvy4JVDac8RWTRy%2BrsngMEnvVHNs2J6%2Bl7YdKDWDkQxWbVyGsai8bKxLXaF5%2FEA%2FX%2BWKJ1sSMN%2BM%2Bs1tUx4z7w%2F4XR91syxUN8I2oQiCUmhTplIbq15BvURkmqNEMHA%2Fj0Rlps4k6aMNSrftko8HD5Z4DuwRTWVewigcY6M4YD2jVa6z2OzvjpLuI92eRdcEGqMAB9m2bDA1OtEyvZ%2FJKR%2BypXHcXjlxelatnUxu2GZbk02qJc9xbnA2ld6Vnh066raRjLLW9bAkJqEgs8ZjyIYyl4rk0XhRsrik9y9NK5GJv4eBp8o6Ii1QSCqHJqNEZT4dznMMbattBMWyAop3MZSNiGtFbYSEofjRvsh8k3MFFf990D%2BwGzWSmLvzi0QXtAHDxlv3Qxn%2FeZSWXe7KzeOP9BVnehIx%2F6162zHjLQlDWJzz%2Bb0eua9hkGjPQ4bZ%2B4hU6a55CrYN7ra1YebW2mThaUy4VevS5WtSn4tfH3tdvDxyIoa88W5gIHvj%2BlWooOvWYs6bpqbVNu1yX%2BI1Jmos5UlvAey5AzwGuG9XwpqAfhaUys39C73pWv4m3UKYaa3O%2FJQzY1rdZZCiEJV7eZTX830ym5kLWSipIktKR9XRxIeimqJih6ejDj4JfLBjqkAZ9Fi3cugUjltQK1NJsiTDBgymwadmAj0LJqb4bzLByLzgdLUaMBcHf08Bfqxh6ONKO4zepVcQNa0R7FcUy80%2FOTt3oGOJBZTREcnMj0MXfFfGY1ENrr2XrCvMiCrytEC5t9SX7HY9xq2P7JZMgxtvUpMlmfXl%2Bo4YltlAIgXvk50aqMIrsiP7xp771tN0XWBHAZBK0O3MJLUe8diWWJ00th%2FMHs&X-Amz-Signature=f201bec987ade4cd91d64ca160a1577609d3c0256d5f2a08b8aadaf198323c8d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


> RFPilot Architecture Flowchart


## 3-1. Document Processing


### **i. Document Loader**


> - RFP 문서를 불러오고 필요한 **메타데이터(문서명, 기관명, 사업명 등)** 정리
- 사용자의 질문 및 메타데이터 기반으로 유사 문서를 선택하고 추출하는 **역할 수행**
- OCR이 필요한 이미지 기반 문서(PDF 스캔본 등)도 처리 가능




**PDF 문서 내 텍스트 추출 모듈 비교**



- **PDF 처리 모듈: PyMuPDF**

- **선정 이유**

**HWP 문서 내 텍스트 추출 모듈 비교**



- **HWP 처리 모듈: HWPLoader**

- **선정 이유**



### **ii. Text Chunking**


> - RFP 문서를 의미 있는 **작은 정보 단위(Chunk)**로 나누어, 검색 효율과 생성 응답의 품질을 높이는 핵심 전처리 단계




**Splitter 비교**



**기본 설정값** **및 선정 이유**


- **청크 사이즈 1000 tokens**

- **오버랩 250 tokens**







**평가 요약 **


- **Section-Recursive 방식**

- **Token 방식**

- **Recursive 방식**

**청크 사이즈 250 tokens, 오버랩 50 tokens 제한 실험 **



**청크 사이즈 1000 tokens, 오버랩 250 tokens 디폴트 실험**





### **iii. Embedding Process**


> - 청크(문서 조각)를 의미 기반 벡터로 변환
- 질의(Query)와 문서 간 의미 유사도를 계산해, 의미가 유사한 문장들이 가까운 벡터 공간에 위치하도록 매핑




**Embedding 모델별 비교**





> ❓ **Query **: 경기도일자리재단의 정보시스템 운영 사업 중 보안 기능 요구사항이 언급된 것이 있나요?





**모델별 설명 및 선정 이유**


- **Hugging Face: **`**nlpai-lab KoE5**`

- **OpenAI: **`**text-embedding-3-large**`

---


## 3-2. Retriever System


### **i. Vector DB (FAISS vs. Chroma)**


> - 문서 Embedding 후, 유사도 기반 검색을 위한 벡터 저장소 역할 수행
- Vector DB의 성능은 Embedding 모델, 저장 방식, DB 처리 로직에 따라 상이


**Vector DB 생성 속도**



- **FAISS는 생성 속도 측면에서 일관되게 우수**

- Chroma는 문서 수가 적더라도 생성 속도 편차가 크고 느림



**Vector DB 주요 기능 차이**



**기술적 고려 사항**


- 사용자가 입력한 질문과 raw **문서 간 의미 유사도**를 기반으로 관련 문서를 선별한 뒤, 이를 Embedding으로 변환하여 벡터 DB를 구성

- 두 DB 모두 검색 정확도는 유사했으나, **FAISS는 생성 시간과 처리 안정성 측면에서 뛰어남**

**선정 사유 요약**


1. 실시간 응답 속도를 고려한 **사용자 경험(UX) 중심 설계**

1. 향후 **Hybrid Search + Re-ranking** 전략과의 **병행 최적화 가능성**

1. 반복적인 Vector DB 재구성 시 **운영 효율성 우수**

---


### **ii. Retriever**


> - Chunk로 구성된 Vector DB에서 사용자 질문과 관련성 있는 문서를 추출하는 역할


> ❓ **Query** : 고려대학교 차세대 포털 시스템 사업이랑 광주과학기술원의 학사 시스템 기능 개선 사업을 비교해 줄래?


**Retrieval 방식별 결과 (top-5 기준)**



**Retrieval 방식 설명**


- **Similarity search**

- **Hybrid search**

- **Re-ranking 적용**

**실험 결과**


- 상위 5개의 문서만 비교 시 단순 Similarity Search는 **광주과학기술원 관련 문서**를 상위로 끌어오지 못함

- 반면 **Hybrid Search**는 두 기관 관련 문서를 모두 정확히 추출

- 두 가지 방식 모두 **Re-ranking**을 함께 적용하면 **검색 결과의 품질이 안정적으로 향상**

- 따라서 속도가 조금 느리더라도 **Hybrid search +Re-ranking **조합이 **정확도와 포괄성 측면에서 최적**

## 3-3. Answer Generation


### **i. Response Generator**


> - `Retriever` 과정에서 추출된 문서 청크들과 사용자 질문을 조합한 `Prompt` 를 입력받아, 실제 사용자가 이해할 수 있는 자연어 응답을 생성하는 기능


**실험 모델 비교**



**모델 분석 - Hugging Face**


-  `**Markr-AI/Gukbap-Qwen2.5-7B**`

- `**microsoft/Phi-4-mini-instruct**`

-  `**Bllossom/llama-3.2-Korean-Bllossom-AICA-5B**`

- `**Junmai/KIT-5.8b**`외 모델들



**모델 분석 - OpenAI**


- `**gpt-4.1-nano**`



**선정 모델 응답 예시**


> ❓ **Query : 한국 원자력 연구원에서 선량 평가 시스템 고도화 사업을 발주했는데, 이 사업이 왜 추진되는지 목적을 알려 줘.**


- **Hugging Face: **`**Gukbap-Qwen2.5-7B**`

> 🗨️ 한국 원자력 연구원에서는 선량 평가 시스템 고도화 사업을 통해 다음과 같은 목적을 달성하려 합니다:


- **OpenAI**: `**gpt-4.1-nano**`

> 🗨️ 이 사업은 원자력안전위원회 고시 제2019-10호와 ICRP 60 기반 평가장기 개선, 액체유출물에 의한 주민피폭선량평가 필요성에 따라 규제요건을 준수하고, 업무생산성을 향상시키기 위해 추진됩니다. 또한, 선량평가 관련 규제 수요에 대응하고 데이터 신뢰성 및 생산성 향상을 목표로 합니다. 
[출처: '한국원자력연구원 선량평가시스템 고도화', 청크번호: 0]


---


## 3-4. Chat Memory


### **i. Chat History**


> - 사용자의 **이전 대화 내용**을 기억하거나 참조하여 **문맥을 유지**하고 **일관성 있는 응답**을 생성할 수 있게 하는 기능


**Chat History 저장 및 활용 방식**


- **대화 기록 저장 위치**: `st.session_state.chat_history`

- **업데이트 시점**: 질문-응답이 종료될 때마다 `Config` 객체에 기록

- **활용 시점**: 다음 질문 처리 시 `RAG_Pipeline`에 반영하여 검색 및 응답 품질 향상

**Chat History 적용 순서**





**Chat History 적용 예시**


**대화 내역**


- **role - User**

- **role - Ai**

**요약된 대화 내역**


- **summary **



**Chat Memory 도입 효과 및 한계**


- **Chat Memory 기능 도입** 후 다중 질의 시의 **응답 일관성**과** 문맥 반영률**이 크게 향상

- 다만 불필요한 과거 정보 반복 반영 등의 이슈가 발생할 수 있음



---


# **4.🖱️ UI 및 사용자 경험**


## 4-1. 초기 화면 구성


![](https://prod-files-secure.s3.us-west-2.amazonaws.com/74816d19-4826-4987-99da-a7850e85f3d3/3a1ecc58-e683-408b-ac4a-f6c2296ede74/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664CPUDAFQ%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T081508Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDcaCXVzLXdlc3QtMiJGMEQCIADmwY8hS4kqKN0J9mjITbsSROwsC0OFC94z%2BEbn4EBeAiBCZ%2BCVKTm6ypCt%2FnAXq%2Bewgsi3JO1D88ETGBerrBOdlir%2FAwgAEAAaDDYzNzQyMzE4MzgwNSIML2ZdbLa73KnFQUdTKtwDuVwv143ff4fg6I0rq%2B0WlPIxwEA2qpUe23dUl2uFKcFRqSBm8DE%2Bdr0LUa6uDuYhhr1BTevUHxePsGwdZILbpZCwZLyV9%2F%2B4Q84ehxxmKhM7dhBOi6VUpzvPrYxcAsO2U9PKofreRgnLMsDtelxKWTg8pfmkVN4qSgYHyY7%2B%2B8E1Gl39wjm3zPx09OrbaDuv8EaJR8X2u%2BZOLDMcfM7iV2VLYpjeC8peeKH59porAXTlK%2F0n9DtFrZrO3ZOyqKjtS3df2s2ettDWnJUhB%2BpVLmUJGAo84PMSu%2BKuP9etAcIglIs0h48oWJn65DDtxMJzsY3SPZi8EN2t3TjGUQrAwD08JaXzqYxHt3xiOpdz%2FzmZ6hnO7ncLChEdP5SjIMKwYqo%2B7svWpajJZzzLwb0499YtCNDtQNVfYpZISQM%2BlvNBQc1Y5P5vezh4wMj%2FytulrEYEChAKXw4VrovYShcyG7OpBa1ghUjUGeu1bsGXxOfdShC%2Fcph4ZsRd%2FoHSx%2FSYju4F7BciE5ZnLonZOA76UhnmhulT7fYelULY12b7n%2BTACG1dTQqA0el7wRnx%2FLkOLO8vxPVJnv63jS%2FVvSCyBictGfv8iQM64PXtrD0r8bfvHLbPz2xC9Mukbfkwp%2BGXywY6pgFc6L%2F5WDsb7bfT9tXBj2r5FVEajIVtUn38g%2FAhin98%2BkMy2oIfXNzXUlZ71PMyfaLtt2zEyM29hPpiKGERTgqynhQFsbtrhSJnl%2FRU09%2F%2Fc6Pv0MHpdvsERlrUip%2F6bGPvrU6nkdf%2B3jYh4uLgptQmPrgg71jaq%2FpaXCraN44Oax2Nic4Iu%2BU2UOuGDBjMPfNkd3o%2FJjQ0VjQWmSg2qO9yUjlz2p7V&X-Amz-Signature=562d169a0c8c2adf090e9961fce962b044b0fd39d23b53858c9c0de6239aeb5d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)






## 4-2. 각종 기능 소개


> 💡 


![](https://prod-files-secure.s3.us-west-2.amazonaws.com/74816d19-4826-4987-99da-a7850e85f3d3/372ae8ad-81d2-400a-b5e9-c5768f85c28d/7f46659d-3ec2-4e13-b83e-73aed5b4ebb1.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664CPUDAFQ%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T081508Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDcaCXVzLXdlc3QtMiJGMEQCIADmwY8hS4kqKN0J9mjITbsSROwsC0OFC94z%2BEbn4EBeAiBCZ%2BCVKTm6ypCt%2FnAXq%2Bewgsi3JO1D88ETGBerrBOdlir%2FAwgAEAAaDDYzNzQyMzE4MzgwNSIML2ZdbLa73KnFQUdTKtwDuVwv143ff4fg6I0rq%2B0WlPIxwEA2qpUe23dUl2uFKcFRqSBm8DE%2Bdr0LUa6uDuYhhr1BTevUHxePsGwdZILbpZCwZLyV9%2F%2B4Q84ehxxmKhM7dhBOi6VUpzvPrYxcAsO2U9PKofreRgnLMsDtelxKWTg8pfmkVN4qSgYHyY7%2B%2B8E1Gl39wjm3zPx09OrbaDuv8EaJR8X2u%2BZOLDMcfM7iV2VLYpjeC8peeKH59porAXTlK%2F0n9DtFrZrO3ZOyqKjtS3df2s2ettDWnJUhB%2BpVLmUJGAo84PMSu%2BKuP9etAcIglIs0h48oWJn65DDtxMJzsY3SPZi8EN2t3TjGUQrAwD08JaXzqYxHt3xiOpdz%2FzmZ6hnO7ncLChEdP5SjIMKwYqo%2B7svWpajJZzzLwb0499YtCNDtQNVfYpZISQM%2BlvNBQc1Y5P5vezh4wMj%2FytulrEYEChAKXw4VrovYShcyG7OpBa1ghUjUGeu1bsGXxOfdShC%2Fcph4ZsRd%2FoHSx%2FSYju4F7BciE5ZnLonZOA76UhnmhulT7fYelULY12b7n%2BTACG1dTQqA0el7wRnx%2FLkOLO8vxPVJnv63jS%2FVvSCyBictGfv8iQM64PXtrD0r8bfvHLbPz2xC9Mukbfkwp%2BGXywY6pgFc6L%2F5WDsb7bfT9tXBj2r5FVEajIVtUn38g%2FAhin98%2BkMy2oIfXNzXUlZ71PMyfaLtt2zEyM29hPpiKGERTgqynhQFsbtrhSJnl%2FRU09%2F%2Fc6Pv0MHpdvsERlrUip%2F6bGPvrU6nkdf%2B3jYh4uLgptQmPrgg71jaq%2FpaXCraN44Oax2Nic4Iu%2BU2UOuGDBjMPfNkd3o%2FJjQ0VjQWmSg2qO9yUjlz2p7V&X-Amz-Signature=eacaa1c5e46105348c95d933fb1524eddd8b9d7ec72a472ae416eb7d9a9bb139&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)




> 💡 `.env` 파일이 없을 경우


![  경고문이 나오지만 실행에는 문제 없음](https://prod-files-secure.s3.us-west-2.amazonaws.com/74816d19-4826-4987-99da-a7850e85f3d3/e18befc3-5b0c-4ecd-ad22-26272eeb90d2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664CPUDAFQ%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T081508Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDcaCXVzLXdlc3QtMiJGMEQCIADmwY8hS4kqKN0J9mjITbsSROwsC0OFC94z%2BEbn4EBeAiBCZ%2BCVKTm6ypCt%2FnAXq%2Bewgsi3JO1D88ETGBerrBOdlir%2FAwgAEAAaDDYzNzQyMzE4MzgwNSIML2ZdbLa73KnFQUdTKtwDuVwv143ff4fg6I0rq%2B0WlPIxwEA2qpUe23dUl2uFKcFRqSBm8DE%2Bdr0LUa6uDuYhhr1BTevUHxePsGwdZILbpZCwZLyV9%2F%2B4Q84ehxxmKhM7dhBOi6VUpzvPrYxcAsO2U9PKofreRgnLMsDtelxKWTg8pfmkVN4qSgYHyY7%2B%2B8E1Gl39wjm3zPx09OrbaDuv8EaJR8X2u%2BZOLDMcfM7iV2VLYpjeC8peeKH59porAXTlK%2F0n9DtFrZrO3ZOyqKjtS3df2s2ettDWnJUhB%2BpVLmUJGAo84PMSu%2BKuP9etAcIglIs0h48oWJn65DDtxMJzsY3SPZi8EN2t3TjGUQrAwD08JaXzqYxHt3xiOpdz%2FzmZ6hnO7ncLChEdP5SjIMKwYqo%2B7svWpajJZzzLwb0499YtCNDtQNVfYpZISQM%2BlvNBQc1Y5P5vezh4wMj%2FytulrEYEChAKXw4VrovYShcyG7OpBa1ghUjUGeu1bsGXxOfdShC%2Fcph4ZsRd%2FoHSx%2FSYju4F7BciE5ZnLonZOA76UhnmhulT7fYelULY12b7n%2BTACG1dTQqA0el7wRnx%2FLkOLO8vxPVJnv63jS%2FVvSCyBictGfv8iQM64PXtrD0r8bfvHLbPz2xC9Mukbfkwp%2BGXywY6pgFc6L%2F5WDsb7bfT9tXBj2r5FVEajIVtUn38g%2FAhin98%2BkMy2oIfXNzXUlZ71PMyfaLtt2zEyM29hPpiKGERTgqynhQFsbtrhSJnl%2FRU09%2F%2Fc6Pv0MHpdvsERlrUip%2F6bGPvrU6nkdf%2B3jYh4uLgptQmPrgg71jaq%2FpaXCraN44Oax2Nic4Iu%2BU2UOuGDBjMPfNkd3o%2FJjQ0VjQWmSg2qO9yUjlz2p7V&X-Amz-Signature=f4e1cd0f5df52f12736d0bf1df1a15e5e236d8df26cb9682bf8a0cd659dae40a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)




> 💡 


![`API_KEY` 가 없을 경우 경고문 + 입력란 생성](https://prod-files-secure.s3.us-west-2.amazonaws.com/74816d19-4826-4987-99da-a7850e85f3d3/7aaa5136-ee0f-45ef-8978-0f99f8b129ae/%ED%94%84%EB%A0%88%EC%A0%A0%ED%85%8C%EC%9D%B4%EC%85%98_%EC%A0%9C%EC%9E%91.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664CPUDAFQ%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T081508Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDcaCXVzLXdlc3QtMiJGMEQCIADmwY8hS4kqKN0J9mjITbsSROwsC0OFC94z%2BEbn4EBeAiBCZ%2BCVKTm6ypCt%2FnAXq%2Bewgsi3JO1D88ETGBerrBOdlir%2FAwgAEAAaDDYzNzQyMzE4MzgwNSIML2ZdbLa73KnFQUdTKtwDuVwv143ff4fg6I0rq%2B0WlPIxwEA2qpUe23dUl2uFKcFRqSBm8DE%2Bdr0LUa6uDuYhhr1BTevUHxePsGwdZILbpZCwZLyV9%2F%2B4Q84ehxxmKhM7dhBOi6VUpzvPrYxcAsO2U9PKofreRgnLMsDtelxKWTg8pfmkVN4qSgYHyY7%2B%2B8E1Gl39wjm3zPx09OrbaDuv8EaJR8X2u%2BZOLDMcfM7iV2VLYpjeC8peeKH59porAXTlK%2F0n9DtFrZrO3ZOyqKjtS3df2s2ettDWnJUhB%2BpVLmUJGAo84PMSu%2BKuP9etAcIglIs0h48oWJn65DDtxMJzsY3SPZi8EN2t3TjGUQrAwD08JaXzqYxHt3xiOpdz%2FzmZ6hnO7ncLChEdP5SjIMKwYqo%2B7svWpajJZzzLwb0499YtCNDtQNVfYpZISQM%2BlvNBQc1Y5P5vezh4wMj%2FytulrEYEChAKXw4VrovYShcyG7OpBa1ghUjUGeu1bsGXxOfdShC%2Fcph4ZsRd%2FoHSx%2FSYju4F7BciE5ZnLonZOA76UhnmhulT7fYelULY12b7n%2BTACG1dTQqA0el7wRnx%2FLkOLO8vxPVJnv63jS%2FVvSCyBictGfv8iQM64PXtrD0r8bfvHLbPz2xC9Mukbfkwp%2BGXywY6pgFc6L%2F5WDsb7bfT9tXBj2r5FVEajIVtUn38g%2FAhin98%2BkMy2oIfXNzXUlZ71PMyfaLtt2zEyM29hPpiKGERTgqynhQFsbtrhSJnl%2FRU09%2F%2Fc6Pv0MHpdvsERlrUip%2F6bGPvrU6nkdf%2B3jYh4uLgptQmPrgg71jaq%2FpaXCraN44Oax2Nic4Iu%2BU2UOuGDBjMPfNkd3o%2FJjQ0VjQWmSg2qO9yUjlz2p7V&X-Amz-Signature=d23763ca6beceed0cafd10d73e3634db875de898bb7b0a4e765825f18fd35050&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)




> 💡 


**Vector DB 초기화 버튼**



**예시**


![초기화 버튼 적용 후 DB 삭제](https://prod-files-secure.s3.us-west-2.amazonaws.com/74816d19-4826-4987-99da-a7850e85f3d3/660f4def-5a7b-416d-a578-bdbe0d15a03f/%ED%94%84%EB%A0%88%EC%A0%A0%ED%85%8C%EC%9D%B4%EC%85%98_%EC%A0%9C%EC%9E%91_%281%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664CPUDAFQ%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T081508Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDcaCXVzLXdlc3QtMiJGMEQCIADmwY8hS4kqKN0J9mjITbsSROwsC0OFC94z%2BEbn4EBeAiBCZ%2BCVKTm6ypCt%2FnAXq%2Bewgsi3JO1D88ETGBerrBOdlir%2FAwgAEAAaDDYzNzQyMzE4MzgwNSIML2ZdbLa73KnFQUdTKtwDuVwv143ff4fg6I0rq%2B0WlPIxwEA2qpUe23dUl2uFKcFRqSBm8DE%2Bdr0LUa6uDuYhhr1BTevUHxePsGwdZILbpZCwZLyV9%2F%2B4Q84ehxxmKhM7dhBOi6VUpzvPrYxcAsO2U9PKofreRgnLMsDtelxKWTg8pfmkVN4qSgYHyY7%2B%2B8E1Gl39wjm3zPx09OrbaDuv8EaJR8X2u%2BZOLDMcfM7iV2VLYpjeC8peeKH59porAXTlK%2F0n9DtFrZrO3ZOyqKjtS3df2s2ettDWnJUhB%2BpVLmUJGAo84PMSu%2BKuP9etAcIglIs0h48oWJn65DDtxMJzsY3SPZi8EN2t3TjGUQrAwD08JaXzqYxHt3xiOpdz%2FzmZ6hnO7ncLChEdP5SjIMKwYqo%2B7svWpajJZzzLwb0499YtCNDtQNVfYpZISQM%2BlvNBQc1Y5P5vezh4wMj%2FytulrEYEChAKXw4VrovYShcyG7OpBa1ghUjUGeu1bsGXxOfdShC%2Fcph4ZsRd%2FoHSx%2FSYju4F7BciE5ZnLonZOA76UhnmhulT7fYelULY12b7n%2BTACG1dTQqA0el7wRnx%2FLkOLO8vxPVJnv63jS%2FVvSCyBictGfv8iQM64PXtrD0r8bfvHLbPz2xC9Mukbfkwp%2BGXywY6pgFc6L%2F5WDsb7bfT9tXBj2r5FVEajIVtUn38g%2FAhin98%2BkMy2oIfXNzXUlZ71PMyfaLtt2zEyM29hPpiKGERTgqynhQFsbtrhSJnl%2FRU09%2F%2Fc6Pv0MHpdvsERlrUip%2F6bGPvrU6nkdf%2B3jYh4uLgptQmPrgg71jaq%2FpaXCraN44Oax2Nic4Iu%2BU2UOuGDBjMPfNkd3o%2FJjQ0VjQWmSg2qO9yUjlz2p7V&X-Amz-Signature=a834a8aa7e2770461af3f903d4de90bc0ea89788070006ab4f9ebc47dbb1efb7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


**리셋 버튼**



![문서 출력 화면](https://prod-files-secure.s3.us-west-2.amazonaws.com/74816d19-4826-4987-99da-a7850e85f3d3/59cd0ea6-f601-4487-9e2e-fccbbe3d25b4/%ED%94%84%EB%A0%88%EC%A0%A0%ED%85%8C%EC%9D%B4%EC%85%98_%EC%A0%9C%EC%9E%91_%282%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664CPUDAFQ%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T081509Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDcaCXVzLXdlc3QtMiJGMEQCIADmwY8hS4kqKN0J9mjITbsSROwsC0OFC94z%2BEbn4EBeAiBCZ%2BCVKTm6ypCt%2FnAXq%2Bewgsi3JO1D88ETGBerrBOdlir%2FAwgAEAAaDDYzNzQyMzE4MzgwNSIML2ZdbLa73KnFQUdTKtwDuVwv143ff4fg6I0rq%2B0WlPIxwEA2qpUe23dUl2uFKcFRqSBm8DE%2Bdr0LUa6uDuYhhr1BTevUHxePsGwdZILbpZCwZLyV9%2F%2B4Q84ehxxmKhM7dhBOi6VUpzvPrYxcAsO2U9PKofreRgnLMsDtelxKWTg8pfmkVN4qSgYHyY7%2B%2B8E1Gl39wjm3zPx09OrbaDuv8EaJR8X2u%2BZOLDMcfM7iV2VLYpjeC8peeKH59porAXTlK%2F0n9DtFrZrO3ZOyqKjtS3df2s2ettDWnJUhB%2BpVLmUJGAo84PMSu%2BKuP9etAcIglIs0h48oWJn65DDtxMJzsY3SPZi8EN2t3TjGUQrAwD08JaXzqYxHt3xiOpdz%2FzmZ6hnO7ncLChEdP5SjIMKwYqo%2B7svWpajJZzzLwb0499YtCNDtQNVfYpZISQM%2BlvNBQc1Y5P5vezh4wMj%2FytulrEYEChAKXw4VrovYShcyG7OpBa1ghUjUGeu1bsGXxOfdShC%2Fcph4ZsRd%2FoHSx%2FSYju4F7BciE5ZnLonZOA76UhnmhulT7fYelULY12b7n%2BTACG1dTQqA0el7wRnx%2FLkOLO8vxPVJnv63jS%2FVvSCyBictGfv8iQM64PXtrD0r8bfvHLbPz2xC9Mukbfkwp%2BGXywY6pgFc6L%2F5WDsb7bfT9tXBj2r5FVEajIVtUn38g%2FAhin98%2BkMy2oIfXNzXUlZ71PMyfaLtt2zEyM29hPpiKGERTgqynhQFsbtrhSJnl%2FRU09%2F%2Fc6Pv0MHpdvsERlrUip%2F6bGPvrU6nkdf%2B3jYh4uLgptQmPrgg71jaq%2FpaXCraN44Oax2Nic4Iu%2BU2UOuGDBjMPfNkd3o%2FJjQ0VjQWmSg2qO9yUjlz2p7V&X-Amz-Signature=46168f65fc9fe7569f2cf8c537ff7fd280e788a345688633e24eefb3a29fcf6e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![대화 내역 리셋 적용](https://prod-files-secure.s3.us-west-2.amazonaws.com/74816d19-4826-4987-99da-a7850e85f3d3/e512e129-323a-49da-815b-a47d1da40691/%ED%94%84%EB%A0%88%EC%A0%A0%ED%85%8C%EC%9D%B4%EC%85%98_%EC%A0%9C%EC%9E%91_%283%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664CPUDAFQ%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T081509Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDcaCXVzLXdlc3QtMiJGMEQCIADmwY8hS4kqKN0J9mjITbsSROwsC0OFC94z%2BEbn4EBeAiBCZ%2BCVKTm6ypCt%2FnAXq%2Bewgsi3JO1D88ETGBerrBOdlir%2FAwgAEAAaDDYzNzQyMzE4MzgwNSIML2ZdbLa73KnFQUdTKtwDuVwv143ff4fg6I0rq%2B0WlPIxwEA2qpUe23dUl2uFKcFRqSBm8DE%2Bdr0LUa6uDuYhhr1BTevUHxePsGwdZILbpZCwZLyV9%2F%2B4Q84ehxxmKhM7dhBOi6VUpzvPrYxcAsO2U9PKofreRgnLMsDtelxKWTg8pfmkVN4qSgYHyY7%2B%2B8E1Gl39wjm3zPx09OrbaDuv8EaJR8X2u%2BZOLDMcfM7iV2VLYpjeC8peeKH59porAXTlK%2F0n9DtFrZrO3ZOyqKjtS3df2s2ettDWnJUhB%2BpVLmUJGAo84PMSu%2BKuP9etAcIglIs0h48oWJn65DDtxMJzsY3SPZi8EN2t3TjGUQrAwD08JaXzqYxHt3xiOpdz%2FzmZ6hnO7ncLChEdP5SjIMKwYqo%2B7svWpajJZzzLwb0499YtCNDtQNVfYpZISQM%2BlvNBQc1Y5P5vezh4wMj%2FytulrEYEChAKXw4VrovYShcyG7OpBa1ghUjUGeu1bsGXxOfdShC%2Fcph4ZsRd%2FoHSx%2FSYju4F7BciE5ZnLonZOA76UhnmhulT7fYelULY12b7n%2BTACG1dTQqA0el7wRnx%2FLkOLO8vxPVJnv63jS%2FVvSCyBictGfv8iQM64PXtrD0r8bfvHLbPz2xC9Mukbfkwp%2BGXywY6pgFc6L%2F5WDsb7bfT9tXBj2r5FVEajIVtUn38g%2FAhin98%2BkMy2oIfXNzXUlZ71PMyfaLtt2zEyM29hPpiKGERTgqynhQFsbtrhSJnl%2FRU09%2F%2Fc6Pv0MHpdvsERlrUip%2F6bGPvrU6nkdf%2B3jYh4uLgptQmPrgg71jaq%2FpaXCraN44Oax2Nic4Iu%2BU2UOuGDBjMPfNkd3o%2FJjQ0VjQWmSg2qO9yUjlz2p7V&X-Amz-Signature=e84f8ceaad8f0300c1ed1b52f9ce413f9b37bd84da6b1cbac955422a44d8adce&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)





> 📱 


![](https://prod-files-secure.s3.us-west-2.amazonaws.com/74816d19-4826-4987-99da-a7850e85f3d3/bc1c2895-b842-45b5-adcd-fd9d0f3ce642/%EC%A4%91%EA%B8%89_%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8_PPT_%281%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664CPUDAFQ%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T081509Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDcaCXVzLXdlc3QtMiJGMEQCIADmwY8hS4kqKN0J9mjITbsSROwsC0OFC94z%2BEbn4EBeAiBCZ%2BCVKTm6ypCt%2FnAXq%2Bewgsi3JO1D88ETGBerrBOdlir%2FAwgAEAAaDDYzNzQyMzE4MzgwNSIML2ZdbLa73KnFQUdTKtwDuVwv143ff4fg6I0rq%2B0WlPIxwEA2qpUe23dUl2uFKcFRqSBm8DE%2Bdr0LUa6uDuYhhr1BTevUHxePsGwdZILbpZCwZLyV9%2F%2B4Q84ehxxmKhM7dhBOi6VUpzvPrYxcAsO2U9PKofreRgnLMsDtelxKWTg8pfmkVN4qSgYHyY7%2B%2B8E1Gl39wjm3zPx09OrbaDuv8EaJR8X2u%2BZOLDMcfM7iV2VLYpjeC8peeKH59porAXTlK%2F0n9DtFrZrO3ZOyqKjtS3df2s2ettDWnJUhB%2BpVLmUJGAo84PMSu%2BKuP9etAcIglIs0h48oWJn65DDtxMJzsY3SPZi8EN2t3TjGUQrAwD08JaXzqYxHt3xiOpdz%2FzmZ6hnO7ncLChEdP5SjIMKwYqo%2B7svWpajJZzzLwb0499YtCNDtQNVfYpZISQM%2BlvNBQc1Y5P5vezh4wMj%2FytulrEYEChAKXw4VrovYShcyG7OpBa1ghUjUGeu1bsGXxOfdShC%2Fcph4ZsRd%2FoHSx%2FSYju4F7BciE5ZnLonZOA76UhnmhulT7fYelULY12b7n%2BTACG1dTQqA0el7wRnx%2FLkOLO8vxPVJnv63jS%2FVvSCyBictGfv8iQM64PXtrD0r8bfvHLbPz2xC9Mukbfkwp%2BGXywY6pgFc6L%2F5WDsb7bfT9tXBj2r5FVEajIVtUn38g%2FAhin98%2BkMy2oIfXNzXUlZ71PMyfaLtt2zEyM29hPpiKGERTgqynhQFsbtrhSJnl%2FRU09%2F%2Fc6Pv0MHpdvsERlrUip%2F6bGPvrU6nkdf%2B3jYh4uLgptQmPrgg71jaq%2FpaXCraN44Oax2Nic4Iu%2BU2UOuGDBjMPfNkd3o%2FJjQ0VjQWmSg2qO9yUjlz2p7V&X-Amz-Signature=0ff371736f23f6c48c67f514a7f852a2951bb52408fb3fcd55a1daf66b11ff48&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)




---


# **5.⚡ Fast API 연동**


## 5-1. API 흐름도


![](https://prod-files-secure.s3.us-west-2.amazonaws.com/74816d19-4826-4987-99da-a7850e85f3d3/53d69231-c843-4bcc-8dde-8f983af31bfe/0beba779-5299-4e3b-a914-8cea229bedc4.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664CPUDAFQ%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T081509Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDcaCXVzLXdlc3QtMiJGMEQCIADmwY8hS4kqKN0J9mjITbsSROwsC0OFC94z%2BEbn4EBeAiBCZ%2BCVKTm6ypCt%2FnAXq%2Bewgsi3JO1D88ETGBerrBOdlir%2FAwgAEAAaDDYzNzQyMzE4MzgwNSIML2ZdbLa73KnFQUdTKtwDuVwv143ff4fg6I0rq%2B0WlPIxwEA2qpUe23dUl2uFKcFRqSBm8DE%2Bdr0LUa6uDuYhhr1BTevUHxePsGwdZILbpZCwZLyV9%2F%2B4Q84ehxxmKhM7dhBOi6VUpzvPrYxcAsO2U9PKofreRgnLMsDtelxKWTg8pfmkVN4qSgYHyY7%2B%2B8E1Gl39wjm3zPx09OrbaDuv8EaJR8X2u%2BZOLDMcfM7iV2VLYpjeC8peeKH59porAXTlK%2F0n9DtFrZrO3ZOyqKjtS3df2s2ettDWnJUhB%2BpVLmUJGAo84PMSu%2BKuP9etAcIglIs0h48oWJn65DDtxMJzsY3SPZi8EN2t3TjGUQrAwD08JaXzqYxHt3xiOpdz%2FzmZ6hnO7ncLChEdP5SjIMKwYqo%2B7svWpajJZzzLwb0499YtCNDtQNVfYpZISQM%2BlvNBQc1Y5P5vezh4wMj%2FytulrEYEChAKXw4VrovYShcyG7OpBa1ghUjUGeu1bsGXxOfdShC%2Fcph4ZsRd%2FoHSx%2FSYju4F7BciE5ZnLonZOA76UhnmhulT7fYelULY12b7n%2BTACG1dTQqA0el7wRnx%2FLkOLO8vxPVJnv63jS%2FVvSCyBictGfv8iQM64PXtrD0r8bfvHLbPz2xC9Mukbfkwp%2BGXywY6pgFc6L%2F5WDsb7bfT9tXBj2r5FVEajIVtUn38g%2FAhin98%2BkMy2oIfXNzXUlZ71PMyfaLtt2zEyM29hPpiKGERTgqynhQFsbtrhSJnl%2FRU09%2F%2Fc6Pv0MHpdvsERlrUip%2F6bGPvrU6nkdf%2B3jYh4uLgptQmPrgg71jaq%2FpaXCraN44Oax2Nic4Iu%2BU2UOuGDBjMPfNkd3o%2FJjQ0VjQWmSg2qO9yUjlz2p7V&X-Amz-Signature=4ecc67f626033297709d5c764ae67d4ce1229d28550705df85d5951835289ce3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


> Frontend–Backend Interaction Diagram




## 5-2. 서비스 운영


### **i. GCP(Google Cloud Platform) 기반 VM 환경**


- **실행 환경**: Google Cloud Platform(GCP)의 Ubuntu 기반 가상 머신(VM)

- **운영체제**: Python 3.10 환경의 Ubuntu 서버에서 가상환경(venv) 기반으로 프로젝트 실행

- **네트워크 설정**: 고정 외부 IP를 할당하고, TCP 8100 포트 등을 방화벽에서 허용하여 외부 접근 가능

- **접근 구조**: Streamlit 프론트엔드가 FastAPI의 `/chat` 엔드포인트에 API 요청



### **ii. FastAPI 실행 환경**


- **프레임워크**: 비동기(ASGI) 기반의 Python 웹 프레임워크 FastAPI

- **서버 구성**

- **실행 명령어**



---


# **6. 📈 개발 이슈 및 해결 방안**


## 6-1. **Problem Solving**


> ⚙️ 


**설정 관리의 어려움**


- **문제**: 개발이 진행될수록 설정값이 많아져서 관리하기 어려움

- **해결**: `config.yaml`로 통합하여 관리



**JupyterLab 숨김파일 접근 문제**


- **문제**: 가상환경 내부의 숨김파일 접근이 불가능함

- **해결**: JupyterLab Hidden File Visibility 설정을 터미널 커맨드로 덮어씌워 이용해 극복



**통합 실행 파일**`**main.py**`**의 혼란**


- **문제**: 분업으로 인한 통합 실행 파일의 모호함

- **해결**: 기능별 `main.py`와 실제 `main.py`를 만들어 실행진입점에서만 실행



**로깅 부재로 피드백 불가**


- **문제**: 로깅이 되지 않아 결과에 대한 피드백이 제대로 되지 않음

- **해결**: `langsmith`를 사용해 설정과 기능별 결과를 로깅하여 latency 측정



** 에러 발생 시 추적 어려움**


- **문제**: 코드 에러가 나는 경우 정확히 어느 코드의 어떤 부분인지 찾기 어려움

- **해결**: 방어적 로직을 구현해 에러 메시지 양식(`folder.module.function`)을 통일



**개발 단계 디버깅 문제**


- **문제**: CLI 실행 시 중간 과정 출력이 없어 디버깅이 어려움

- **해결**: Verbose 옵션을 추가해 단계별 실행 흐름을 출력하여 개선



**모델 캐시 및 리소스 관리 문제**


- **문제**: 다양한 모델 실험으로 캐시가 과도하게 누적되고 VRAM 사용량 증가로 실행 중단

- **해결 1**:

- **해결 2**:



**Streamlit 페이지 질문 병렬 처리 불가**


- **문제**: 다수의 사용자를 상정, 팀원 여러 명이 접속하여 동시 질문을 할 경우 터미널 내부에서 충돌

- **해결: **



**모듈 인자 일관성 부족으로 코드 관리 어려움**


- **문제**: 개발이 진행될수록 모듈이 받는 인자가 들쭉날쭉하고 코드가 최적화되지 않음

- **해결**: 팀 전체 코드 리뷰 시간을 갖고 리팩토링 규칙을 세워 정리



**실행 환경 재현 어려움**


- **문제**: 로컬 환경 차이로 패키지 버전 불일치 및 실행 오류 발생 가능성 확인

- **해결**: 실행 환경 전체 구성을 반영한 `environment.yaml`을 작성해 정확한 재현이 가능한 환경 구성



> 📁 


**문서 확장자가 일관되지 않음**


- **문제**: hwp 파일과 pdf 파일이 혼재되어 있음

- **해결**:** **처음에는 pdf 관련 모듈이 다양하고 효율적이므로 hwp를 pdf로 바꿈

**한글 미설치**


- **문제**: hwp를 pdf로 바꿀 때 한글이 설치되어 있어야 함

- **해결**: 적절한 reader 모듈(`PyMuPDF`, `HWPLoader`)을 찾아 두 가지 파일 타입 모두 처리



**PDF 파일 내부의 이미지 문제**


- **문제**: 파일에 이미지가 있는 경우가 드물고 양이 적으며 내용이 중요하지 않음

- **해결**: OCR 적용 여부 선택지를 포함해 파일 내부 이미지를 처리함



**PDF parser 경고 메시지 **


- **문제**: 하나의 문서에서 PyMuPDF의 경고 메시지가 지속적으로 발생

- **해결**: MuPDF의 공식 문서 기준, 자체적으로 syntax error를 수정하며 기능상 문제가 없음을 확인



**Token/Recursive 분할의 한계점**


- **문제**: 기존의 Token/Recursive 방식은 청크 크기 제약으로 문맥이 단절됨

- **해결**: 의미 기반 분할 방식(Section+Recursive)을 추가하고 청크 크기를 확대하여 개선함



**적절한 의미 분절 단위 선정의 어려움**


- **문제**: 문서의 어디부터 어디까지가 적절한 크기의 청크 단위인지 모호함

- **해결**: 문서마다 단락이 바뀌는 지점을 파악하여 기준으로 채택해 분리



**청크 길이 불균형 문제**


- **문제**: 의미 단위로 문서를 분할하다 보니 청크 길이가 너무 짧거나 긴 경우가 존재

- **해결**: 짦은 경우는 청크를 이어 붙이고, 긴 경우는 일부를 잘라 다음 청크와 이어 붙여서 해결



**단락 구분 어려움**


- **문제**: 기존의 문서 방식으로는 정확한 단락 머리 표를 구분하지 못함

- **해결**: 다양한 문단 분리 기호를 추가하여 정확하게 의미 단위를 분리



**유사도 계산 시 벡터 타입 불일치 문제**


- **문제**: 질문과 유사한 문서를 검색하는 경우 임베딩 모델에 따라 반환되는 벡터 타입이 달라 호환성 오류 발생

- **해결**: 임베딩의 encode() 메서드를 기준으로 분기 처리하여 torch.Tensor()에는 cos_sim(), numpy.ndarray에는 cosine_similarity()를 적용



**청크 생성 실패 시 예외 처리 부재**


- **문제**: 특정 문서에서 스플리터가 청크를 생성하지 못한 경우, 빈 리스트가 반환되어 오류 발생

- **해결**: 청크 반환 결과를 검증하고, 빈 경우 기본 청크 방식으로 폴백 처리하여 안정성 확보

> 🔠 


**Default Embedding 모델 선정 문제**


- **문제**: 다양한 임베딩 모델이 존재함에 따라 선정에 어려움을 겪음

- **해결**: 뚜렷한 차이점이 존재하지 않는다면 목표에 가장 적합한 것을 선택



**Embedding 모델마다 할당된 차원 수가 고정**


- **문제**: 임베딩 차원 자동 추론 실패에 따른 FAISS Index 초기화 오류

- **해결**: 모델별 차원을 명시적으로 설정하거나, 차원을 계산해서 동적으로 할당



**임베딩 모델 불일치로 메모리 과다 사용**


- **문제**: 여러 모듈에서 사용되는 임베딩 모델이 제각각 달라서 메모리를 과도하게 차지함

- **해결**: 통일된 임베딩 모델로 메모리 사용량을 줄이고 통일된 결과로 신뢰도 향상



> 📔 


**청크 임베딩 시 토큰 수 초과 문제**


- **문제**: 문서를 청크 단위로 임베딩 시, 일부 모델은 입력 토큰 수 한계를 초과함

- **해결 1**:

- **해결 2**:



**Chroma 기반 DB 저장 충돌**


- **문제: **Chroma는 동일 이름의 DB를 중복 저장할 수 없으며, 아래와 같은 충돌 오류가 발생

- **해결:** 기존 디렉터리를 `shutil` 등으로 삭제한 후 재생성



**질문별 벡터 DB 재생성으로 인해 속도 저하**


- **문제**: 질문마다 전체 문서를 기반으로 한 새로운 벡터 DB를 생성해 실험 속도가 느려짐

- **해결 1: **전체 문서를 DB에 저장할 경우, 이후 저장 과정을 무시하는 로직 추가

- **해결 2:** 질문과의 유사도를 계산해 상위 N개의 문서만 불러오는 방식으로 개선

> 🔍 


**Similarity Search의 한계점**


- **문제**: Similarity search는 속도는 빠르지만 검색된 문서가 부정확함

- **해결**: Hybrid search와 Re-Ranking을 통해 속도는 속도를 다소 희생하여 성능을 상향시키는 방식을 도입



**질문과 청크 간 유사도 계산의 낮은 정확성**


- **문제**: 단순 코사인 유사도 계산 방식은 질문과 문서 청크 간의 미묘한 의미 차이를 반영하지 못해, 연관성이 낮은 청크가 상위에 랭크되는 한계가 있음

- **해결**: `cross-encoder/ms-marco-MiniLM-L-6-v2` 모델을 도입하여 질문과 청크를 함께 입력받아 유사도를 직접 예측함으로써, 코사인 계산보다 훨씬 정밀한 의미 기반 유사도 평가가 가능해짐



**문서 기반 질의응답의 정밀도 부족**


- **문제**: 여러 문서가 연관된 질문에서 특정 문서에만 편중된 청크를 반환하여 정보 누락 발생

- **해결**: 



> 💬 


**HuggingFace 모델에 따른 GPU VRAM 부족**


- **문제**: 허깅페이스 모델의 크기로 인해 모델의 추론 속도 지연 및 메모리 초과 발생

- **해결**: 모델 양자화를 적용해 메모리 사용량을 줄이고 다양한 경량 모델을 실험하여 최적화





**모듈 구조의 복잡성으로 인한 유지보수 어려움**


- **문제**: OpenAI와 HuggingFace 모델이 하나의 모듈에서 처리되어 복잡한 구조를 가짐

- **해결**: 각각의 모델을 별도의 모듈로 분리하여 유지보수 용이함



**모델이 프롬프트 지시에 불응**


- **문제**: 최초 프롬프트를 적용했을 때 모델이 규칙을 위반하는 경우가 잦음

- **해결**: 규칙을 엄격하게 설정하고 위반할 때 페널티를 추가하여 개선된 프롬프트 적용



**모델 성능의 전반적인 한계**


- **문제**: 허깅페이스 모델의 답변 생성력, RAG 성능 및 prompt 이해력 부족

- **해결**: 더욱 다양한 모델을 실험해서 최적의 모델을 찾아 적용함

> 💿 


**대화 맥락 파악 어려움**


- **문제**: 단일 질의응답만 가능해 대화 흐름을 유지하여 추가적인 질문에 답변이 불가함

- **해결**: chat history를 만들어 이전 대화 흐름을 요약해 다음 질문에 추가하여 해결



**유사도 검색 시 맥락 반영 어려움**


- **문제**: Top_k개의 문서를 불러올 때 맥락을 무시하고 질문에만 의존해 불러오는 문제

- **해결**: 질문 Query에 이전 대화 요약을 함께 넣어줌



> 🌈 


**Streamlit **`**text_input()**`** 메서드의 한계**


- **문제**: 초기 UI에서 `text_input()`을 이용해 사용자 질문을 입력하는 방식을 사용했으나, 이전 질문이 계속 입력 창에 남아있으며 입력 창에 글이 있는 상태로 설정을 바꿀 경우 자동으로 검색을 진행함

- **해결**: 버튼을 설정하여, 버튼을 누르지 않으면 검색이 진행하지 않도록 수정, `Enter` 키와 버튼을 연동시켜 UX 편리성 강화

**대화 기록 UI 문제**


- **문제**:** **이전 질문이 계속 입력 창에 남아있으며 일일이 지워야 한다는 점에서 비효율성을 확인

- **해결**: 



**동시 추론이 일어날 때 생기는 주요 문제**


- **문제**: 한 사용자의 LLM 추론이 10초 걸린다면, 다른 사용자는 그 10초 동안 대기 상태가 됨. 리소스를 많이 쓰는 모델의 경우, 시스템이 과부하되어 느려지거나 중단될 수 있음

- **해결**: 추론 로직을 Fast API로 따로 만들어 Streamlit은 API만 호출



**허깅페이스 모델 반복 로딩**


- **문제:** 허깅페이스 모델 로드 시, 분할된 가중치를 불러오기에 1~2분이 소요됨. 질문마다 모델을 반복 로드해 불필요한 지연이 발생함

- **해결:** `@cache_resource` 데코레이터를 활용해 모델을 한 번만 로드하고 캐시에 저장, 반복 로드를 방지하여 효율성을 높임



**OpenAI 모델 이용 시 API KEY 없을 경우 에러**


- **문제:** OpenAI로 답변 생성을 시도할 때, `.env` 파일이 없을 경우 진행 불가

- **해결:** UI로 상태 표시를 하여, 사용자가 직접 입력할 수 있게 적용



**모델에 따른 답변 생성 지연 시간으로 인한 사용자의 혼란**


- **문제**:** **HuggingFace 모델의 경우 답변 생성에 최소 40초 그리고 최대 3분가량이 소요되는 경우가 있으나 사용자가 확인할 방법이 없어, 시스템이 멈춘 것은 아닌지 혼란이 생길 수 있다.

- **해결**:** **`spinner` 등으로 임베딩 생성 과정, DB 생성 과정, 문서 추출과 답변 생성 과정을 로딩으로 보여줌. 그러나 Fast API 연결에서 개별적 로딩 출력에 어려움이 있었기에, 실행 과정을 파이프라인으로 묶어 단 하나의 로딩으로 정리함



> 🌈 


**사용자가 설정을 바꿀 수 없음**


- **문제**:** **설정 고정 적용 시 사용자가 선택할 수 있는 옵션이 없음

- **해결**:** **UI에 `slider` , `toggle` 등을 적용해 바뀐 값을 `config` 에 적용하는 방식을 채택
최종 파이프라인은 사용자가 옵션 설정에서 바꾼 설정을 config에 저장해 최종 실행



**사용자 질의응답이 UI에 남지 않음**


- **문제**: 출력 문서 출력 위치의 최적화

- **해결**: 







**모델 응답에 참고한 문서의 위치 선정 문제**


- **문제**:** **메타 데이터 및 `Retriever`에서 문맥 정보를 보여주는 문서 정보 출력의 위치 설정 문제

- **해결**:** **



**모델에 따른 답변 생성 지연 시간으로 인한 사용자의 혼란**


- **문제**:** **허깅페이스 모델의 경우 답변 생성에 최소 40초 그리고 최대 3분가량이 소요되는 경우가 있으나 사용자가 확인할 방법이 없어, 시스템이 멈춘 것은 아닌지 혼란이 생길 수 있음 

- **해결**:



> 🚧 


**여러 사용자의 동시 질의응답 불가**


- **문제**: uvicorn은 단일 프로세스로 동시에 여러 요청이 들어오면 처리에 한계를 보임

- **해결**: gunicorn으로 다중 worker를 실행해 병렬 처리가 가능하도록 개선



**Streamlit 내 분산된 RAG API 호출**


- **문제**: Streamlit에서 `spinner`로 RAG 단계별 처리 시, API 관리가 복잡해짐

- **해결**: 단일 API로 pipeline을 통합해 `spinner` 내부에서 한 번에 처리되도록 간소화



**모든 API 요청이 동일한 config 객체 공유**


- **문제**:** **여러 Streamlit 탭에서 동시에 질문할 경우 응답이 서로 뒤섞임 

- **해결**:** **요청마다 `deepcopy(config)`로 독립된 config 사본을 사용하도록 변경



---










# **7. 📌 결론**


**프로젝트 목표 달성 여부**


본 RFPilot 프로젝트는 B2G 컨설팅 스타트업을 위해 제안요청서(RFP) 문서를 실시간으로 처리하는 챗봇 시스템을 성공적으로 개발했습니다. Retrieval-Augmented Generation(RAG) 기술을 활용하여 RFP 문서를 빠르게 요약하고 사용자의 질문에 실시간으로 응답함으로써 컨설턴트가 긴 문서를 검토하는 시간을 단축하고 전략적 컨설팅에 집중할 수 있도록 지원합니다. 이 시스템은 고급 NLP 모델, 벡터 데이터베이스, 사용자 친화적 인터페이스를 통합하여 정확하고 효율적인 응답을 제공합니다.


- **효율적인 문서 처리**: PDF와 HWP 파일 형식을 모두 처리할 수 있는 데이터 로더를 구현하여, 혼합된 파일 형식과 문서 내 이미지 처리 문제를 해결했습니다. PyMuPDF와 HWPLoader를 활용해 한글 소프트웨어 없이도 다양한 문서 형식을 처리할 수 있도록 했습니다.

- **확장 가능한 벡터 데이터베이스**: FAISS와 Chroma를 사용한 임베딩 및 벡터 데이터베이스 파이프라인을 개발하여 문서 임베딩의 효율적인 저장과 검색을 가능하게 했습니다.

- **정확한 검색 시스템**: 유사도 검색과 Re-Ranking을 결합한 Hybrid 검색 방식을 도입하여 검색된 문서의 정확도를 높였으며, 성능과 속도 간 적절한 균형을 유지했습니다.

- **응답 생성**: `KoE5`, `OpenAI text-embedding-3-large`, `Gukbap-Qwen2.5-7B`, `OpenAI GPT-4.1-nano` 등 다양한 언어 모델을 통합하여 문맥에 맞는 응답을 생성했습니다. 프롬프트 엔지니어링을 최적화하여 모델의 이해도와 응답 품질을 개선했습니다.

- **UI, UX 개선**: Streamlit 기반 프론트엔드를 구축하고 `@cache_resource` 데코레이터를 활용해 허깅페이스 모델 로딩 시간을 질문당 로딩을 단일 로딩으로 줄였습니다. API 키 유효성 검사에 대한 UI 피드백을 추가해 사용자 경험(UX)을 개선했습니다.

- **원활한 백엔드 통합**: FastAPI 기반 백엔드를 배포하여 API 기반 상호작용을 지원하고, 벡터 데이터베이스와의 실시간 쿼리 처리를 통해 확장성을 확보했습니다.

- **프로젝트 관리 및 협업**: 2025년 5월 12일부터 5월 30일까지 계획된 타임라인 내에서 데이터 수집, 모델 구현, UI 개발, 코드 리팩토링 등 모든 마일스톤을 성공적으로 완료했고, GitHub, Notion, Discord를 활용해 협업을 효율적으로 관리했습니다.

**한계점 및 개선 방향**


- **문서 처리 방식 개선 필요**

- **RAG의 구조적 한계**

- **질문 해석의 한계 **

- **자원 제약으로 인한 백엔드 처리 한계**



---


**이 보고서는 프로젝트 수행 중 작성된 실험 로그, 협업 일지, 회의 기록 등을 바탕으로 구성되었습니다.**


---

